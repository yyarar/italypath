@import "tailwindcss";

:root {
  --background: #f8fafc;
  /* Slate-50: Uygulama geneli daha yumuşak bir beyaz */
  --foreground: #0f172a;
  /* Slate-900: Daha derin bir yazı rengi */
  /* iPhone alt bar değişkeni */
  --sab: env(safe-area-inset-bottom);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}


@layer base {
  body {
    background: var(--background);
    color: var(--foreground);
    /* Mobil cihazlarda istenmeyen yakınlaştırmaları ve mavi tıklama gölgesini kaldırır */
    -webkit-tap-highlight-color: transparent;
    /* Sayfa kaydırmayı daha "akışkan" (momentum) hale getirir */
    -webkit-overflow-scrolling: touch;
    /* Metin seçmeyi engeller (daha uygulama gibi hissettirir) */
    user-select: none;
    /* Yatay taşmaları global olarak engeller (Animasyonlar sırasında önemli) */
    overflow-x: hidden;
    /* Alt bar çakışmasını önlemek için varsayılan overscroll davranışı */
    overscroll-behavior-y: none;
  }

  /* Form elemanlarında metin seçimini tekrar aktif edelim ki kullanıcı yazı yazabilsin */
  input,
  textarea {
    user-select: text;
  }
}

/* Yardımcı Utility Class: BottomNav'ın iPhone barı altında kalmasını önler */
.pb-safe {
  padding-bottom: calc(4rem + var(--sab));
}

/* Sayfa geçiş animasyonları sırasında layout'un zıplamasını önlemek için */
main {
  width: 100%;
  min-height: 100dvh;
  /* dynamic viewport height: mobil tarayıcı barları dahil */
}

/* ===== VIEW TRANSITIONS API ===== */

/* Varsayılan sayfa geçiş animasyonu (fade + hafif kayma) */
::view-transition-old(root) {
  animation: vt-fade-out 0.25s ease-out both;
}

::view-transition-new(root) {
  animation: vt-fade-in 0.3s ease-out both;
}

@keyframes vt-fade-out {
  from { opacity: 1; transform: translateY(0); }
  to   { opacity: 0; transform: translateY(-6px); }
}

@keyframes vt-fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Paylaşılan eleman (hero görsel) geçişleri — pürüzsüz crossfade + morph */
::view-transition-old(uni-hero) {
  animation: vt-shared-out 0.35s ease-in-out both;
}

::view-transition-new(uni-hero) {
  animation: vt-shared-in 0.35s ease-in-out both;
}

@keyframes vt-shared-out {
  from { opacity: 1; }
  to   { opacity: 0; }
}

@keyframes vt-shared-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* Paylaşılan başlık geçişi */
::view-transition-old(uni-title) {
  animation: vt-shared-out 0.3s ease-in-out both;
}

::view-transition-new(uni-title) {
  animation: vt-shared-in 0.3s ease-in-out both;
}